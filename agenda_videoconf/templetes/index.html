<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Agenda de Videoconfer√™ncias</title>
    <link rel="stylesheet" href="/static/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <!-- Font Awesome para √≠cones -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
</head>
<body>
    <header>
        <h1>üì° Agenda de Videoconfer√™ncias</h1>
        <button id="btn-dark-mode" title="Alternar Modo Escuro" aria-label="Alternar modo escuro">
            <i class="fas fa-moon"></i> Modo Escuro
        </button>
    </header>

    <main>
        <!-- Formul√°rio para adicionar nova videoconfer√™ncia -->
        <section class="formulario" aria-label="Formul√°rio de agendamento">
            <form action="/adicionar" method="POST">
                <input type="text" name="titulo" placeholder="T√≠tulo da videoconfer√™ncia" required />
                <input type="date" name="data" required />
                <input type="time" name="horario" required />
                <input type="text" name="local" placeholder="Local ou plataforma" required />
                <input type="text" name="link" placeholder="Link da videoconfer√™ncia" />
                <input type="text" name="participantes" placeholder="Participantes" />
                <input type="text" name="responsavel" placeholder="Respons√°vel" />
                <button type="submit" aria-label="Adicionar videoconfer√™ncia">
                    <i class="fas fa-plus-circle"></i> Adicionar
                </button>
            </form>
        </section>

        <!-- Videoconfer√™ncias Pendentes -->
        <section aria-label="Videoconfer√™ncias Pendentes">
            <h2>üìå Videoconfer√™ncias Pendentes</h2>
            <div class="tabela-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th><a class="ordenar" href="?ordenar=titulo"><i class="fas fa-sort"></i> T√≠tulo</a></th>
                            <th><a class="ordenar" href="?ordenar=data"><i class="fas fa-sort"></i> Data</a></th>
                            <th><a class="ordenar" href="?ordenar=horario"><i class="fas fa-sort"></i> Hor√°rio</a></th>
                            <th>Local</th>
                            <th>Link</th>
                            <th><a class="ordenar" href="?ordenar=participantes"><i class="fas fa-sort"></i> Participantes</a></th>
                            <th><a class="ordenar" href="?ordenar=responsavel"><i class="fas fa-sort"></i> Respons√°vel</a></th>
                            <th>Realizar</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for evento in eventos %}
                        <tr>
                            <td data-label="T√≠tulo">{{ evento.titulo }}</td>
                            <td data-label="Data">{{ evento.data }}</td>
                            <td data-label="Hor√°rio">{{ evento.horario }}</td>
                            <td data-label="Local">{{ evento.local }}</td>
                            <td data-label="Link">
                                {% if evento.link %}
                                    <a href="{{ evento.link }}" target="_blank" rel="noopener noreferrer">
                                        <i class="fas fa-external-link-alt"></i> Acessar
                                    </a>
                                {% else %}
                                    ‚Äî
                                {% endif %}
                            </td>
                            <td data-label="Participantes">{{ evento.participantes }}</td>
                            <td data-label="Respons√°vel">{{ evento.responsavel }}</td>
                            <td data-label="Realizar">
                                <form action="/realizar/{{ evento.id }}" method="POST" style="margin:0;">
                                    <button type="submit" title="Marcar como realizada" aria-label="Marcar como realizada">
                                        <i class="fas fa-check-circle"></i>
                                    </button>
                                </form>
                            </td>
                            <td data-label="A√ß√µes">
                                <a href="/excluir/{{ evento.id }}" title="Excluir" aria-label="Excluir">
                                    <i class="fas fa-trash-alt"></i>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Videoconfer√™ncias Realizadas -->
        <section aria-label="Videoconfer√™ncias Realizadas">
            <h2>‚úÖ Videoconfer√™ncias Realizadas</h2>
            <div class="tabela-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>T√≠tulo</th>
                            <th>Data</th>
                            <th>Hor√°rio</th>
                            <th>Local</th>
                            <th>Link</th>
                            <th>Participantes</th>
                            <th>Respons√°vel</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for evento in realizados %}
                        <tr class="realizado">
                            <td data-label="T√≠tulo">{{ evento.titulo }}</td>
                            <td data-label="Data">{{ evento.data }}</td>
                            <td data-label="Hor√°rio">{{ evento.horario }}</td>
                            <td data-label="Local">{{ evento.local }}</td>
                            <td data-label="Link">
                                {% if evento.link %}
                                    <a href="{{ evento.link }}" target="_blank" rel="noopener noreferrer">
                                        <i class="fas fa-external-link-alt"></i> Acessar
                                    </a>
                                {% else %}
                                    ‚Äî
                                {% endif %}
                            </td>
                            <td data-label="Participantes">{{ evento.participantes }}</td>
                            <td data-label="Respons√°vel">{{ evento.responsavel }}</td>
                            <td data-label="Status">‚úîÔ∏è Realizada</td>
                            <td data-label="A√ß√µes">
                                <a href="/excluir/{{ evento.id }}" title="Excluir" aria-label="Excluir">
                                    <i class="fas fa-trash-alt"></i>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; Se√ß√£o de Inform√°tica - 6¬™ Regi√£o Militar</p>
    </footer>

    <script>
      // Bot√£o modo escuro
      const btnDarkMode = document.getElementById('btn-dark-mode');
      btnDarkMode.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        if (document.body.classList.contains('dark-mode')) {
          btnDarkMode.innerHTML = '<i class="fas fa-sun"></i> Modo Claro';
        } else {
          btnDarkMode.innerHTML = '<i class="fas fa-moon"></i> Modo Escuro';
        }
      });
    </script>
</body>
</html>